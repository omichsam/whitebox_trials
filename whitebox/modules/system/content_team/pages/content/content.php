<style type="text/css">
  
  #header_innovation{
text-transform: uppercase;
text-align: center;
border-bottom: 1px solid #ccc;
border-radius:5px;

  }
  .innovations_holder{
    min-height: 40px;
    box-shadow: 0 0 2px #ccc;
    margin-top:5px;
    background:#fff;
    overflow: hidden;
    max-height: 40px;
  }
  .content_ino{
    min-height: 10px;
    box-shadow: 0 0 2px #ccc;
  }
  .header_innov{
    min-height: 10px;
    box-shadow: 0 0 2px #ccc;
  }
  .in_headers{
    text-transform: uppercase;
    border-bottom: 1px solid #ccc;
  }
  .content_h{

    text-transform: uppercase;
    font-weight: bolder;
    text-align: center;
  }
  .innovation_attachements{
    min-height: 180px;
    background-size: cover !important;
    background-repeat: no-repeat !important;
    background-position: center !important;

  }
  .even_row{
    background: #e3edf0;
  }
  .viewed{
background: #ccc;
  }
  .veiw_evaluate{
    cursor: pointer;
  }
 
#filtered_datadv{
    min-height: 500px;
    max-height: 500px;
    overflow: auto;
    background: #fff;
  }
  #add_user{
    margin-top: 5px;
    margin-bottom: 5px;
  }

  .moduleholder{
    min-height: 200px;
    box-shadow: 0px 0px 2px #ccc;

    border-radius: 5px;
    margin-top: 15px;
    cursor: pointer;
  }
    #analytics_base{
    margin-top: 10px;
    max-height: 430px;
    overflow: auto;
  }
  .data_dvsz{
    min-height: 100px;
    margin-top: 10px;
    box-shadow: 2px 2px 2px #ddd;
    background:#ddd;
    border-radius: 5px;
      cursor: pointer;

  }
  .active_btnd{
    min-height: 100px;
    margin-top: 10px;
    box-shadow: 0 0 15px #000;
    background:#ddd;
    border-radius: 5px;
      cursor: pointer;

  }
  .data_dvsz:hover{
    box-shadow: 0 0 15px #000;
    

  }
  .innovation_data{
    min-height: 10px;

  }
  .count_holder{
min-height: 20px;
border-radius: 5px;
text-align: center;
font-size: 24px;
  }
  .button_viewinno{
 cursor: pointer;
text-align: right;
text-transform: uppercase;
font-weight: bold;
font-size: 12px;

  }
  .data_outer{
   border-radius: 5px;
border: #e6b234 solid 2px;
min-height: 165px;
  }
  .analytics_divs{
    margin: 10px;
    border-top: 2px dashed #ccc;
    /*box-shadow: 0 0 3px #ccc;
    min-height: 220px;
    padding-top: 10px;
    border-right: 2px solid #ccc;
    */
  }
  .topic_unit{font-size: 28px;
font-weight: bold;
}
 .container {
  background-size: cover;
  background: rgb(226,226,226); /* Old browsers */
  background: -moz-linear-gradient(top,  rgba(226,226,226,1) 0%, rgba(219,219,219,1) 50%, rgba(209,209,209,1) 51%, rgba(254,254,254,1) 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(226,226,226,1)), color-stop(50%,rgba(219,219,219,1)), color-stop(51%,rgba(209,209,209,1)), color-stop(100%,rgba(254,254,254,1))); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* IE10+ */
  background: linear-gradient(to bottom,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e2e2e2', endColorstr='#fefefe',GradientType=0 ); /* IE6-9 */
  padding: 20px;
}

.led-box {
  height: 30px;
  width: 25%;
  
  float: left;
}


.led-green {
  margin: 0 auto;
  width: 24px;
  height: 24px;
  background-color: #0dff00;
  border-radius: 50%;
  box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(0, 100, , 0.5) 0 2px 12px;
  -webkit-animation: blinkRed 1.5s infinite;
  -moz-animation: blinkRed 1.5s infinite;
  -ms-animation: blinkRed 1.5s infinite;
  -o-animation: blinkRed 1.5s infinite;
  animation: blinkRed 1.5s infinite;
}

@-webkit-keyframes blinkRed {
    from { background-color: #0dff00; }
    50% { background-color: #00aa2a; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}
    to { background-color: #0dff00; }
}
@-moz-keyframes blinkRed {
    from { background-color: #0dff00; }
    50% { background-color: #00aa2a; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}
    to { background-color: #0dff00; }
}
@-ms-keyframes blinkRed {
    from { background-color: #0dff00; }
    50% { background-color: #00aa2a; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}
    to { background-color: #0dff00; }
}
@-o-keyframes blinkRed {
    from { background-color: #0dff00; }
    50% { background-color: #00aa2a; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}
    to { background-color: #0dff00; }
}
@keyframes blinkRed {
    from { background-color: #0dff00; }
    50% { background-color: #00aa2a; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(0, 100, 0, 0.5) 0 2px 0;}
    to { background-color: #0dff00; }
}

</style>

<?php
include "../../../../../connect.php";
include "../../../../../plugins/php_functions/security.php";
?>
<div class="col-sm-12 col-xs-12">
<div class="col-sm-12 col-xs-12" id="header_innovation"><h4 id="filter_headers" style="font-weight: bold;font-size: 32px;"><span class="btn btn-primary" style="float:left;" id="addmodule"><i class="fa fa-plus"></i> Add a new module</span> MODULES</h4></div>  
<div class="col-sm-12 col-xs-12">
 

<div class="col-sm-12 col-xs-12">
  <?php
  $sql="SELECT * FROM curriculum_units ORDER BY unit_name ASC";
    $query_run=mysqli_query($con,$sql) or die($query_run."<br/><br/>".mysqli_error($con));

    while($row=mysqli_fetch_array($query_run)){
           $unit_name=$row['unit_name'];
           $description =$row['description'];
           $id=$row['id'];
           $status=$row['status'];
           if($status=="active"){
            $newstatus="Live";
            $livebtn="not_shown";
            $offlinebtn="";

           }else{
            $newstatus="Offline";
            $livebtn="";
            $offlinebtn="not_shown";
           }

  ?>

<div class="col-sm-4 col-xs-12 ">
  <div class="col-sm-12 col-xs-12 no_padding data_dvsz" role="<?php echo $id?>">
    <div class="col-sm-12 no_padding col-xs-12 data_outer">
    <div class="col-sm-12 col-xs-12 default_header topic_unit"><?php echo $unit_name;?></div>
    <div class="col-sm-12 col-xs-12 no_padding innovation_data"></div>
    <div class="col-sm-12 col-xs-12 ">
    <!--<div class="col-sm-4 col-xs-4 no_padding">  

    </div>-->
    <div class="col-sm-12 col-xs-12 no_padding count_holder" id="count_holder"><?php echo $description?>
    </div>  

    </div>
    <div class="col-sm-12 col-xs-12 no_padding">
    <div class="col-sm-4 col-xs-4 ">  
<span class="button_viewinno put_live btn btn-success <?php echo $livebtn?>" role="<?php echo $id?>">Put live </span>
<span class="button_viewinno btn btn-danger put_offline <?php echo $offlinebtn?>" role="<?php echo $id?>">Put Offline </span>
    </div>
    <div class="col-sm-4 col-xs-4  " style="">
      <?php echo $newstatus?>
      <div class="<?php echo $offlinebtn?>">
    <div class="led-box">
     <div class="led-green"></div>
   </div>
 </div>
    </div>  
       <div class="col-sm-4 col-xs-4  ">
        <span class="button_viewinno viewcontents btn btn-primary" role="<?php echo $id?>">View </span>
    </div>
    </div>
  </div>
</div>



</div>
  <?php


  }

  ?>

</div>
<script type="text/javascript">
  $(document).ready(function(){
       $(".put_offline").click(function(){
           var txt;
  var r = confirm("Do you wish to put this content offline?, click OK to proceed or CANCEL to stop?");
  if (r == true) {
    var role=btoa($(this).attr("role"));
      $.post("modules/system/content_team/pages/content/offline.php",{role:role},function(data){
        if($.trim(atob(data)=="success")){
          $.post("modules/system/content_team/pages/content/content.php",{role:role},function(data){
       $("#home").html(data);
     })
        }else{

        }
       
      })
  }else{

  }

      })
         $(".put_live").click(function(){
           var txt;
  var r = confirm("Do you wish to put this content online?, click OK to proceed or CANCEL to stop?");
  if (r == true) {
    var role=btoa($(this).attr("role"));
      $.post("modules/system/content_team/pages/content/online.php",{role:role},function(data){
        if($.trim(atob(data)=="success")){
          $.post("modules/system/content_team/pages/content/content.php",{role:role},function(data){
       $("#home").html(data);
     })
        }else{

        }
       
      })
  }else{

  }

      })
    $(".viewcontents").click(function(){

      var role=btoa($(this).attr("role"));
      $.post("modules/system/content_team/pages/content/view.php",{role:role},function(data){
        $("#home").html(data);
      })
    })
    $("#addmodule").click(function(){
       $.post("modules/system/content_team/pages/content/newmodule.php",{},function(data){
        $("#home").html(data);
      })
    })
  })
</script>

 </div>
</div>